<!-- Copyright (C) Microsoft Corporation. All rights reserved. -->
<!DOCTYPE html>
<html>
  <head>
    <script>
      globalThis.MonacoPerformanceMarks = globalThis.MonacoPerformanceMarks || []
      globalThis.MonacoPerformanceMarks.push("renderer/started", Date.now())
    </script>

    <meta charset="utf-8" />

    <!-- Disable pinch zooming -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
    />

    <!-- Workbench Configuration -->
    <meta id="vscode-workbench-web-configuration" data-settings="{{WORKBENCH_WEB_CONFIGURATION}}" />

    <!-- Workarounds/Hacks (remote user data uri) -->
    <meta id="vscode-remote-user-data-uri" data-settings="{{REMOTE_USER_DATA_URI}}" />
    <meta id="vscode-remote-product-configuration" data-settings="{{PRODUCT_CONFIGURATION}}" />
    <meta id="vscode-remote-nls-configuration" data-settings="{{NLS_CONFIGURATION}}" />

    <!-- Workbench Icon/Manifest/CSS -->
    <link rel="icon" href="{{CS_STATIC_BASE}}/src/browser/media/favicon.ico" type="image/x-icon" />
    <link rel="manifest" href="{{CS_STATIC_BASE}}/src/browser/media/manifest.json" crossorigin="use-credentials" />
    <!-- PROD_ONLY
    <link data-name="vs/workbench/workbench.web.api" rel="stylesheet" href="{{CS_STATIC_BASE}}/lib/vscode/out/vs/workbench/workbench.web.api.css">
    END_PROD_ONLY -->
    <link rel="apple-touch-icon" href="{{CS_STATIC_BASE}}/src/browser/media/pwa-icon-384.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <!-- Prefetch to avoid waterfall -->
    <!-- PROD_ONLY
    <link rel="prefetch" href="{{CS_STATIC_BASE}}/lib/vscode/node_modules/semver-umd/lib/semver-umd.js">
    END_PROD_ONLY -->
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.5.4/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Firepad -->
    <link rel="stylesheet" href="https://firepad.io/releases/v1.5.9/firepad.css" />
    <script src="{{CS_STATIC_BASE}}/cpr/coderpair-firepad.min.js"></script>
    <link rel="stylesheet" href="{{CS_STATIC_BASE}}/cpr/userlist.css" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta id="coder-options" data-settings="{{OPTIONS}}" />
    <style>
         .powered-by-wbx {
               position: absolute;
               display: block;
               z-index: 5;
               right: 60px;
               bottom: 18px;
               width: 48px;
               height: 19px;
               background-size: 48px 19px;
               background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAaCAMAAAAwoqp9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAblQTFRFAAAA5P3k3/3h0f/R0P3R0v3T0/3U0f3S0//T1f3W0/3V2v/f3fzd2/zb0P3Q2fzZ0v7U0/zT1/3X0v3U0v3S1P3U0P3S1vzX1f3V4P3i1f3V4P/g0v3T1f/V1PzU1f3W1v3X1P3V2//b6P/o7v/u1f3W////0/3U1v3X1fzV2v/g2P3Y0/7U1P3V1/3Z1v3X0/zV1P3V1f3V1f3X2f/e5v/m0P3S0f3S3v/e1f7V0v3T2/zd3/3f4Pzk1f3X0P3S4P/g4//j1P3V6f/p4Pzg0v3T3/3f1v3Y2f3Z1P3U1v3X1PzW0v3T3v3e1v3X1f3X1P3U5f3lz/3S1f3W6v/q1P3V2P3Z0v3U3v3e0/3U1f3V1f3W1P3X2f3Z2v/a0f3R4/zl2PzY2f3Z1v3X2v7a1/3Z1vzY5v/s0/3U2v3b1/3Y1/7Y7f/t0/7T2f/Z0f3T1/3X2f7b8P/w1/3X2f3b1P3V1P7U2/zb5v/m2Pzb3//f1v3Y7P/s4f/h3P3c1PzX0f3R1PzV1P3W1/3X1f3X2P3Z1v3Y1f3V////6v/q1P3U2f3a2vzb2/7b2f3Z2P3a2v7b2v3a1/3YmWsuwgAAAJN0Uk5TAGh3Pf////8po6MwS1yZSb1cZplmmZnI/2ujOtU9wvv2/zghD/8E5PjAKW+43Zn/XJmZmT0K2949utFid0t5oyk29C5L1qXvmevoy6OZ34xmbGbrPfj/Zn33qexmZin/ZE//9bxmwijR6t24HbU9qH6+EZij+7BUNFwIihs8e01qw32UhdGceQMM//TIr5ylueX/QXoW7AAAAhxJREFUeJzNVGlbE0EMjpDZVdEVSltRFAWKCCIFBKkcoqJyQ11APLAICniAiig3eAsCKvqLSWa67XT3i/TxA3memUneJO9mMjML8D/lQEaaiZmIwjAR8WC6nz6EUg6nmw9ZiuBI2gQg800dOWod2wuBYIJsDcgh27cHAoMJcjXAItsfsIJByzr+LwR5THBCA+hgTkL+KYZPAxSgOHO2UBQpX3HIS1DCkV74XCnieafCsnJSLlTwcePFSldkmEBDs6sC1TU1l2ohGIepR6KOOnuZs41CmuojHoIrmh1p4MhGaFKFNdNyVXUWW64BXL9BNM1uAiuF0lCpNLcC5NJSDjfNRJ0R0m65exBIWLdptCHmKZ52gA7EToAuLqBbhfAu9E2w3ZOko9GL2EdLBVfWSt4ogKnuq2kKU6p+V8F3HCMaVgQ2LdTFfrmDUIIgIbZGwDdxwDEG7yqCIVrucSvuIz4g/SHvwPazDEWHfY9iGsEI+R7H9VEco/lJ/CqT4ymNcVUNTqiYSXAJV+TcjWf4XNUk9/gi+c7yWXvJ2pRAMR185SJ4rdQ3iDMAb52v+SXBrHS9Y/W9Zc1xN7rntfwF9owskrZUTdoyQCUjKwSs6n+KtWQHP6TsYFyBwpDPGj8CfEKnhOTtIYl8lu9WzMZS8uGL53xE+Kttf2PfdwLWU6I33B2EH9wmsRne2v756/fOn7/DutOHxlbMk7KPZBdeKD2ukNqYFwAAAABJRU5ErkJggg==');
               opacity: 0.4;
        }
   </style>
  </head>

  <body aria-label="" onload="firepad_init()">
  <div id='firepad-userlist' style='position:fixed;z-index:99;visibility:hidden;width:300px;height:230px;bottom:60px;right:10px'></div>
  </body>

  <!-- Startup (do not modify order of script tags!) -->
  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/dist/pages/vscode.js"></script>

  <!-- BEGIN MAIN CODERPAIR MODIFICATION - VSCODE WITH REAL TIME COLLAB AND DEFAULT THEME VARIANT -->
  <script>

      var monaco = {};
      var wb_monaco = {};

      wb_monaco.logo = "powered-by-wbx";
      wb_monaco.disabled = {{COLLAB_DISABLED}};
      wb_monaco.displayName = "{{CURRENT_USER}}";
      wb_monaco.currentUser = wb_monaco.displayName.replace(/([^a-z0-9]+)/gi, '-');

      wb_monaco.firepad_ref = {
        childref: "{{FIREBASE_REF}}"   //A starting point for the db
      };

      function firepad_init() {
        if(!wb_monaco.disabled){
            //// Initialize Firebase.
            var config = {
                apiKey: "{{FIREBASE_APIKEY}}",
                authDomain: "{{FIREBASE_AUTHDOMAIN}}",
                databaseURL: "{{FIREBASE_DATABASEURL}}"
            };
            firebase.initializeApp(config);
            wb_monaco.user = firebase.database().ref('users').push().key;

            wb_monaco.userList = FirepadUserList.fromDiv(firebase.database().ref('users'),
            document.getElementById('firepad-userlist'), wb_monaco.user, (wb_monaco.displayName!='default'?wb_monaco.displayName:null));
        }
      }; 

      //DEBUG
      isDebug = false; // toggle this to turn on / off for global controll
      isDebug1 = false; // toggle this to turn on / off firepad logging
      isDebug2 = false; // toggle this to turn on / off entry logging
      isDebug3 = false; // toggle this to turn on / off workbench logging
      var log1,log2,log3;
      if (isDebug1&&isDebug) log1 = console.log.bind(window.console)
      else log1 = function(){}
      if (isDebug2&&isDebug) log2 = console.log.bind(window.console)
      else log2 = function(){}
      if (isDebug3&&isDebug) log3 = console.log.bind(window.console)
      else log3 = function(){}

  </script>

  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/cpr/coderpair.js"></script>
  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/cpr/userlist.js"></script>
  <!-- END MAIN CODERPAIR MODIFICATION - VSCODE WITH REAL TIME COLLAB AND DEFAULT THEME VARIANT -->

  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/dist/register.js"></script>
  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/lib/vscode/out/vs/loader.js"></script>
  <script>
    globalThis.MonacoPerformanceMarks.push("willLoadWorkbenchMain", Date.now())
  </script>
  <!-- PROD_ONLY
  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/lib/vscode/out/vs/workbench/workbench.web.api.nls.js"></script>
  <script data-cfasync="false" src="{{CS_STATIC_BASE}}/lib/vscode/out/vs/workbench/workbench.web.api.js"></script>
  END_PROD_ONLY -->
  <script>
    require(["vs/code/browser/workbench/workbench"], function () {})
  </script>
</html>
